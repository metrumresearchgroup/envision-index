# Generated by Chef
# Restricts a location to only be available to the specified users.
required_user *;
# Specify the authentication method to be used.
auth_pam;
# When a user visits the base URL rather than a particular application,
# an index of the applications available in this directory will be shown.
directory_index on;
# Shiny Server will never delete the logs from your R processes, regardless of their exit code
preserve_logs true;
# Log all Shiny output to files in this directory
log_dir /var/log/shiny-server;
server {
  listen 8100;
  
  # Define the location of the envision index page
  location /index {
    run_as :AUTH_USER: shiny;
    site_dir /data/shiny-server/index;
  }
  # Define a location at the base URL
  location / {
    run_as shiny;
    site_dir /data/shiny-server;
  }
  
}
# Provide the admin interface on port 4151
admin 4151 {
  # Restrict the admin interface to the usernames listed here. Currently
  # just one user named "admin"
  required_user *;
}